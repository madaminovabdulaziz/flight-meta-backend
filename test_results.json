{
  "timestamp": "2025-11-19T11:34:54.958799",
  "summary": {
    "total_tests": 5,
    "passed": 1,
    "failed": 4,
    "pass_rate": 20.0,
    "total_time": 449.8,
    "total_turns": 13,
    "avg_turn_time": 34.6
  },
  "tests": [
    {
      "name": "Single Turn - Complete Info",
      "passed": false,
      "error": "Shouldn't be asking for departure_date when all info was provided",
      "time": 2.058929920196533,
      "turns": [
        {
          "turn_number": 1,
          "user_message": "I want to trip to London with 2 friends to explore culture next week from Tashkent",
          "latency_seconds": 2.059,
          "path_used": "rule_based",
          "routing_confidence": 0.9933333333333334,
          "intent": "destination_provided",
          "estimated_llm_calls": 0,
          "slots": {
            "origin": "TAS",
            "destination": "TAS",
            "departure_date": null,
            "return_date": null,
            "passengers": 3,
            "travel_class": null,
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "departure_date",
          "search_executed": false,
          "assistant_message": "Perfect! When would you like to fly to TAS?",
          "suggestions": [
            "This month",
            "Next month",
            "Give exact dates"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        }
      ]
    },
    {
      "name": "Single Turn - City to City",
      "passed": true,
      "error": null,
      "time": 0.9814929962158203,
      "turns": [
        {
          "turn_number": 1,
          "user_message": "Flight from New York to Tokyo, departing December 15th, 2 passengers, economy class",
          "latency_seconds": 0.981,
          "path_used": "rule_based",
          "routing_confidence": 1.0,
          "intent": "preference_provided",
          "estimated_llm_calls": 0,
          "slots": {
            "origin": "JFK",
            "destination": "NRT",
            "departure_date": "2025-12-15",
            "return_date": null,
            "passengers": 2,
            "travel_class": "Economy",
            "budget": null
          },
          "ready_for_search": true,
          "missing_parameter": null,
          "search_executed": true,
          "assistant_message": "I couldn't find suitable flights with the current parameters. Try adjusting dates, origin, or budget.",
          "suggestions": [
            "Change dates",
            "Change budget",
            "Change origin"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        }
      ]
    },
    {
      "name": "Multi-Turn - Progressive Information",
      "passed": false,
      "error": "Expected conversation to complete but it didn't; Expected at least 4 slots filled, got 1",
      "time": 37.038743019104004,
      "turns": [
        {
          "turn_number": 1,
          "user_message": "I want to book a flight",
          "latency_seconds": 6.342,
          "path_used": "llm",
          "routing_confidence": 0.5299999999999999,
          "intent": "travel_query",
          "estimated_llm_calls": 3,
          "slots": {
            "origin": null,
            "destination": null,
            "departure_date": null,
            "return_date": null,
            "passengers": 1,
            "travel_class": null,
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "destination",
          "search_executed": false,
          "assistant_message": "Could you let me know the destination you have in mind for your trip?",
          "suggestions": [
            "Paris",
            "Tokyo",
            "New York"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        },
        {
          "turn_number": 2,
          "user_message": "To Paris",
          "latency_seconds": 5.698,
          "path_used": "llm",
          "routing_confidence": 0.5299999999999999,
          "intent": "travel_query",
          "estimated_llm_calls": 3,
          "slots": {
            "origin": null,
            "destination": null,
            "departure_date": null,
            "return_date": null,
            "passengers": 1,
            "travel_class": null,
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "destination",
          "search_executed": false,
          "assistant_message": "Could you let me know your destination for the trip?",
          "suggestions": [
            "Paris",
            "New York",
            "Tokyo"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        },
        {
          "turn_number": 3,
          "user_message": "From London",
          "latency_seconds": 6.346,
          "path_used": "llm",
          "routing_confidence": 0.5299999999999999,
          "intent": "travel_query",
          "estimated_llm_calls": 3,
          "slots": {
            "origin": null,
            "destination": null,
            "departure_date": null,
            "return_date": null,
            "passengers": 1,
            "travel_class": null,
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "destination",
          "search_executed": false,
          "assistant_message": "Could you let me know the destination you're planning to visit?",
          "suggestions": [
            "New York",
            "Paris",
            "Tokyo"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        },
        {
          "turn_number": 4,
          "user_message": "Next Monday",
          "latency_seconds": 3.993,
          "path_used": "llm",
          "routing_confidence": 0.5299999999999999,
          "intent": "travel_query",
          "estimated_llm_calls": 3,
          "slots": {
            "origin": null,
            "destination": null,
            "departure_date": null,
            "return_date": null,
            "passengers": 1,
            "travel_class": null,
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "destination",
          "search_executed": false,
          "assistant_message": "Could you please share which destination you're planning to visit?",
          "suggestions": [
            "Paris",
            "Tokyo",
            "New York"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        },
        {
          "turn_number": 5,
          "user_message": "2 passengers",
          "latency_seconds": 4.653,
          "path_used": "llm",
          "routing_confidence": 0.5299999999999999,
          "intent": "travel_query",
          "estimated_llm_calls": 3,
          "slots": {
            "origin": null,
            "destination": null,
            "departure_date": null,
            "return_date": null,
            "passengers": 1,
            "travel_class": null,
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "destination",
          "search_executed": false,
          "assistant_message": "Could you share where you're planning to travel to?",
          "suggestions": [
            "Paris",
            "Tokyo",
            "New York"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        }
      ]
    },
    {
      "name": "Multi-Turn - Vague Initial Query",
      "passed": false,
      "error": "Expected at least 3 slots filled, got 1",
      "time": 408.70859694480896,
      "turns": [
        {
          "turn_number": 1,
          "user_message": "I want to travel somewhere nice",
          "latency_seconds": 5.833,
          "path_used": "llm",
          "routing_confidence": 0.5299999999999999,
          "intent": "travel_query",
          "estimated_llm_calls": 3,
          "slots": {
            "origin": null,
            "destination": null,
            "departure_date": null,
            "return_date": null,
            "passengers": 1,
            "travel_class": null,
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "destination",
          "search_executed": false,
          "assistant_message": "Could you please let me know your travel destination?",
          "suggestions": [
            "Paris",
            "New York",
            "Tokyo"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        },
        {
          "turn_number": 2,
          "user_message": "Maybe Europe",
          "latency_seconds": 3.855,
          "path_used": "llm",
          "routing_confidence": 0.5299999999999999,
          "intent": "travel_query",
          "estimated_llm_calls": 3,
          "slots": {
            "origin": null,
            "destination": null,
            "departure_date": null,
            "return_date": null,
            "passengers": 1,
            "travel_class": null,
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "destination",
          "search_executed": false,
          "assistant_message": "Could you please tell me your travel destination?",
          "suggestions": [
            "Paris",
            "Tokyo",
            "New York"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        },
        {
          "turn_number": 3,
          "user_message": "France sounds good",
          "latency_seconds": 3.972,
          "path_used": "llm",
          "routing_confidence": 0.5299999999999999,
          "intent": "travel_query",
          "estimated_llm_calls": 3,
          "slots": {
            "origin": null,
            "destination": null,
            "departure_date": null,
            "return_date": null,
            "passengers": 1,
            "travel_class": null,
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "destination",
          "search_executed": false,
          "assistant_message": "Could you please share which destination you're planning to visit?",
          "suggestions": [
            "Paris",
            "New York",
            "Tokyo"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        },
        {
          "turn_number": 4,
          "user_message": "From Berlin",
          "latency_seconds": 381.007,
          "path_used": "llm",
          "routing_confidence": 0.5299999999999999,
          "intent": "travel_query",
          "estimated_llm_calls": 3,
          "slots": {
            "origin": null,
            "destination": null,
            "departure_date": null,
            "return_date": null,
            "passengers": 1,
            "travel_class": null,
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "destination",
          "search_executed": false,
          "assistant_message": "Hi there! Could you please tell me your travel destination?",
          "suggestions": [
            "Paris",
            "New York",
            "Tokyo"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        },
        {
          "turn_number": 5,
          "user_message": "In two weeks",
          "latency_seconds": 4.034,
          "path_used": "llm",
          "routing_confidence": 0.5299999999999999,
          "intent": "travel_query",
          "estimated_llm_calls": 3,
          "slots": {
            "origin": null,
            "destination": null,
            "departure_date": null,
            "return_date": null,
            "passengers": 1,
            "travel_class": null,
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "destination",
          "search_executed": false,
          "assistant_message": "Could you please tell me your intended destination?",
          "suggestions": [
            "Paris",
            "New York",
            "Tokyo"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        }
      ]
    },
    {
      "name": "Rule-Based Path - High Confidence",
      "passed": false,
      "error": "Shouldn't be asking for departure_date when all info was provided",
      "time": 1.009782075881958,
      "turns": [
        {
          "turn_number": 1,
          "user_message": "Tashkent to Istanbul, December 25th, 2 passengers, business class",
          "latency_seconds": 1.01,
          "path_used": "rule_based",
          "routing_confidence": 1.0,
          "intent": "preference_provided",
          "estimated_llm_calls": 0,
          "slots": {
            "origin": "IST",
            "destination": "IST",
            "departure_date": null,
            "return_date": null,
            "passengers": 2,
            "travel_class": "Business",
            "budget": null
          },
          "ready_for_search": false,
          "missing_parameter": "departure_date",
          "search_executed": false,
          "assistant_message": "Perfect! When would you like to fly to IST?",
          "suggestions": [
            "This month",
            "Next month",
            "Give exact dates"
          ],
          "ranked_flights": 0,
          "errors": [],
          "warnings": []
        }
      ]
    }
  ]
}